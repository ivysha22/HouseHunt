<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/owner.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- style section -->
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      body {
        background-color: #f5e2ce;
      }
      main {
        display: flex;
        gap: 100px;
      }
      header {
        background-color: #f5e2ce;
      }
      header nav {
        display: flex;
        flex-direction: row;
        gap: 30px;
      }

      .dashboardlist {
        display: flex;
        align-items: center;
        gap: 30px;
        white-space: nowrap;
      }
      header img {
        padding: 15px; /* Add padding around the image */
        display: block; /* Make the image a block element for better alignment */
        width: 150px; /* Set a specific width for the image */
      }
      #home {
        text-decoration: none;
        color: black;
        font-size: 1.5rem;
      }
      #dash {
        white-space: nowrap;
        text-decoration: none;
        color: black;
        font-size: 1.5rem;
      }
      #list {
        text-decoration: none;
        font-size: 1.5rem;
        background-color: #f8f4e1;
        color: black;
        font-weight: 600;
        padding: 10px 40px;
        border-radius: 20px;
      }
      /* sidenav styles */
      .sidenav {
        width: 250px; /* Specify the overall width of the sidenav */
        background-color: white; /* Background color for the entire sidenav */
        padding: 10px; /* Padding inside the sidenav */
      }

      .sidenav a {
        background-color: #f5e2ce; /* Background color for individual sections */
        margin: 10px 0; /* Space between sections */
        padding: 30px 15px; /* Space inside each section */
        border-radius: 8px; /* Rounded corners */
        text-align: center; /* Center align the text and icons */
        width: 220px; /* Specific width for the divs */
        text-decoration: none; /* Remove underline from links */
        display: flex;
        flex-direction: column;
        font-weight: bold;
        color: #543310;
      }

      .sidenav a:hover {
        background-color: #74512d;
        cursor: pointer; 
      }

      .sidenav i {
        font-size: 24px; 
      }

      .sidenav span {
        position: relative;
        top: 20px;
      }
      hr {
        color: rgb(187, 181, 181);
      }
      main {
        display: flex;
        margin: 0;
        font-family: Arial, sans-serif;
        gap: 12%;
      }
      .main-view img {
        width: 20%;
      }
      /* my properties section */

     /* Main container styling */
/* Main container styling */
.container {
  width: 90%;
  margin: 0 auto;
  padding: 20px;
  background-color: #f8f4e1;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  font-family: 'Arial', sans-serif;
}

.container h1 {
  text-align: center;
  font-size: 2.5rem;
  color: #74512d;
  margin-bottom: 10px;
}

.container p {
  text-align: center;
  color: #4e3627;
  margin-bottom: 20px;
}

/* Property grid styling */
.property-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

/* Individual property item */
.property-item {
  background-color: #ffffff;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.property-item h2 {
  font-size: 1.8rem;
  color: #543310;
  margin-bottom: 10px;
  text-transform: capitalize;
}

/* Image grid styling */
.image-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
  gap: 10px;
}

.image-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 5px;
  transition: transform 0.3s ease;
}

.image-item img:hover {
  transform: scale(1.05);
}

/* Property details */
.property-details {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.details {
  display: flex;
  justify-content: space-between;
  background-color: #fefcf9;
  border: 1px solid #af8f6f;
  border-radius: 5px;
  padding: 10px;
}

.details h3 {
  font-size: 1rem;
  color: #74512d;
}

.details span {
  font-size: 1rem;
  color: #4e3627;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .property-grid {
    grid-template-columns: 1fr;
  }
}


    </style>
    <!-- header section -->
    <header>
      <nav>
        <img
          src="/images/HouseHunt-removebg-preview.png"
          alt=""
          style="background-color: white; padding: 0 60px"
        />
        <div class="dashboardlist">
          <a href="/" id="home">Home Page</a>
          <a href="/account" id="dash">Dashboard</a>
          <a href="/addnewproperty" id="list">Add New Property</a>
          <a href="/myproperties" id="list">My Properties</a>

          <a href="/profile">
            <% if (!locals.user.PROFILE) { %>
            <img src="/profilepic/avatarr.png" style="width: 80px" />
            <% } else { %>
            <img
              src="profilepic/<%=locals.user.PROFILE %>"
              style="
                width: 80px;
                height: 80px;
                border-radius: 50%;
                object-fit: cover;
                text-align: center;
              "
            />
            <% } %>
          </a>

          <div class="greetings">
            <ul>
              <li style="list-style: none; font-size: 1.5rem; color: black">
                Hi&nbsp;<%=locals.user.fullname %><i
                  class="fa-regular fa-face-smile-beam"
                  style="color: black; margin-left: 10px"
                ></i>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <div class="sidenav">
        <a href="/account">
          <i class="fa-solid fa-chart-line" style="color: #000000"></i>
          Dashboard
        </a>

        <hr />

        <a href="/profile">
          <p>
            <% if (!locals.user.PROFILE) { %>
            <img src="/profilepic/avatarr.png" style="width: 80px" />
            <% } else { %>
            <img
              src="profilepic/<%=locals.user.PROFILE %>"
              style="
                width: 80px;
                height: 80px;
                border-radius: 50%;
                object-fit: cover;
                text-align: center;
              "
            />
            <% } %>
          </p>
          <span>Profile</span>
        </a>

        <hr />

        <a href="/addnewproperty">
          <i class="fa-solid fa-plus" style="color: black"></i>
          <span>Add New Property</span>
        </a>

        <hr />

        <a href="/myproperties">
          <i class="fa-solid fa-boxes-stacked" style="color: black"></i>
          <span>My Properties</span>
        </a>

        <hr />

        <a href="/logout">
          <i class="fa-solid fa-right-from-bracket" style="color: black"></i>
          <span>Logout</span>
        </a>
      </div>
      <!-- end of sidenav -->

      <section>
        <div class="listings">
          
          <div class="container">
            <h1>My Properties</h1>
          <p>Here you can view all your properties</p>
            <div class="property-grid">
            <% listings.forEach(listing=>{ %>
              <h2><%=listing.businessname%></h2>
                <div class="image-grid">
                <% listing.listingimages.split(",").forEach(filename=>{%>
                  <div class="image-item">
                <img src="/listingimages/<%=filename%>" style="width: 100%; height: 200px; object-fit: cover;"/>
              </div>
                <%})%>
              </div>
              
                           
              <div class="property-details">
                
                <div class="details">
                  <h3> Property: </h3>
                  <span><%= listing.property%></span>
                </div>


                <div class="details">
              <h3> Location: </h3>
              <span><%= listing.location%></span>
            </div>

            <div class="details">
              <h3> Number of Bedrooms: </h3>
              <span><%= listing.bedrooms%></span>
            </div>

            <div class="details">
              <h3> Price: </h3>
              <span><%= listing.price%></span>
            </div>

            <div class="details">
              <h3> Outdoor Features: </h3>
              <span><%= listing.outdoor%></span>
            </div>

            <div class="details">
              <h3> Amenities: </h3>
              <span><%= listing.amenities%></span>
            </div>
            
            </div>
              <% }) %>
            </div>
          </div>
          
          
      </section>
    </main>
  </body>
</html>
